import{a as me}from"./chunk-VQFV47WN.js";import{a as te}from"./chunk-JNA5SPGX.js";import{$ as R,$a as _e,A as f,Aa as O,Ab as Re,B as k,Bb as Ve,Ca as V,Da as oe,F as D,G as o,Ha as ae,I as K,Na as P,Oa as F,Pa as N,Q as $,Qa as re,R as T,Ra as L,S as W,Sa as B,Ta as se,Ua as pe,Va as le,Wa as de,Ya as ce,Za as fe,_a as ue,aa as Q,ab as he,bb as ge,ca as E,cb as Ce,da as J,db as xe,e as q,ea as X,eb as ye,fb as ve,h as S,hb as we,i as U,ib as Se,j as h,jb as be,k as g,kb as Ee,l as G,lb as Me,ma as Z,mb as Ie,n as d,na as ee,nb as ke,o as C,ob as De,pb as Te,rb as A,s as u,t as c,u as t,v as i,w as v,x as M,xb as j,y as I,ya as ie,yb as H,z as b,za as ne}from"./chunk-JZY52L7S.js";function Ye(e,n){e&1&&o(0,"Import")}function Ke(e,n){e&1&&(t(0,"th",26),o(1,"Name"),i())}function ze(e,n){e&1&&(t(0,"td",27),o(1,"Required"),i())}function qe(e,n){e&1&&(t(0,"th",26),o(1,"Amount"),i())}function Ue(e,n){e&1&&(t(0,"td",27),o(1,"Required"),i())}function Ge(e,n){e&1&&(t(0,"th",26),o(1,"Expense Date"),i())}function $e(e,n){e&1&&(t(0,"td",27),o(1,"Required Format (DD/MM/YYYY)"),i())}function We(e,n){e&1&&(t(0,"th",26),o(1,"Expense Category"),i())}function Qe(e,n){e&1&&(t(0,"td",27),o(1,"Optional(default - Unassigned)"),i())}function Je(e,n){e&1&&(t(0,"th",26),o(1,"Payment Type"),i())}function Xe(e,n){e&1&&(t(0,"td",27),o(1,"Optional(default - Card)"),i())}function Ze(e,n){e&1&&(t(0,"th",26),o(1,"Comment"),i())}function et(e,n){e&1&&(t(0,"td",27),o(1,"Optional(default - Unassigned)"),i())}function tt(e,n){e&1&&v(0,"tr",28)}function it(e,n){e&1&&v(0,"tr",29)}function nt(e,n){e&1&&o(0,"Review")}function ot(e,n){e&1&&(t(0,"p"),o(1,"Please Procced with Save Button.."),i())}function at(e,n){e&1&&(t(0,"p"),o(1,"Please Reupload File in CSV format with Back Button"),i())}function rt(e,n){e&1&&o(0,"Done")}var Fe=(()=>{let n=class n{constructor(a,r,s,l){this.route=a,this.dialog=r,this.snackBar=s,this.businessData=l,this.isCorrect=!1,this.displayedColumns=["name","amount","date","category","payment","comment"],this.dataSource=[{name:"",amount:"",date:"",category:"",payment:"",comment:""}],this.propertyNames=[],this.dataRows=[],this.header=!1}ngOnInit(){}onView(){this.route.navigate(["dashboard"])}onSaveImport(){this.propertyNames=this.csvRecords[0],console.log(this.csvRecords);let a={},r=!1,s=!1,l=!1,_=!1,y=!1,w=!1;for(let p=1;p<this.csvRecords.length-1;p++){a={},r=!1,s=!1,_=!1,l=!1,y=!1,w=!1;for(let m=0;m<this.propertyNames.length;m++)this.propertyNames[m].toLowerCase(),this.propertyNames[m]==="name"||this.propertyNames[m]==="expense_name"||this.propertyNames[m]==="expense name"?this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.expense_name=this.csvRecords[p][m],r=!0):this.propertyNames[m]==="amount"||this.propertyNames[m]==="amounts"?this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.amount=parseInt(this.csvRecords[p][m]),s=!0):this.propertyNames[m]==="expense date"||this.propertyNames[m]==="date"||this.propertyNames[m]==="expense_date"?this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.expense_date=this.csvRecords[p][m],l=!0):this.propertyNames[m]==="payment"||this.propertyNames[m]==="payment_type"||this.propertyNames[m]==="payment type"?this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.payment_type=this.csvRecords[p][m],y=!0):this.propertyNames[m]==="expense_category"||this.propertyNames[m]==="expense category"||this.propertyNames[m]==="category"?this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.expense_category=this.csvRecords[p][m],_=!0):(this.propertyNames[m]==="comments"||this.propertyNames[m]==="comment")&&this.csvRecords[p][m]&&(this.csvRecords[p][m]!=""||this.csvRecords[p][m]!=" ")&&(a.comment=this.csvRecords[p][m],w=!0);if(!r||!s||!l){this.snackBar.open("Please Mention required Fields Properly","",{duration:2e3});return}if(a.expense_date.split("/")[2].length!=4){this.snackBar.open("Date Format DD/MM/YYYY","",{duration:2e3});return}if(parseInt(a.expense_date.split("/")[1])>12){this.snackBar.open("Date Format DD/MM/YYYY","",{duration:2e3});return}_||(a.expense_category="Unassigned"),y||(a.payment_type="Card"),w||(a.comment="Unassigned Expense"),this.onSaveExpense(a)}}onSaveExpense(a){this.businessData.onImportExpense(a).subscribe(r=>{r.status===!0&&console.log("Added")},r=>{this.snackBar.open(r.message," ",{duration:2e3})})}importDataFromCSV(a){if(a.target.files[0].type!=="text/csv"){this.dialog.open(j,{data:{type:"error"}});return}let s=a.target.files[0];var l=new FileReader;l.readAsText(s),l.onload=_=>{let y=_.target.result;y=y.toString();let w=y.split(/\r\n|\n/),p=w[0].split(",");for(let m=0;m<w.length-1;m++)w[m]=w[m].split(",");this.csvRecords=w}}};n.\u0275fac=function(r){return new(r||n)(C(R),C(A),C(Z),C(O))},n.\u0275cmp=S({type:n,selectors:[["app-import"]],decls:47,vars:5,consts:[["stepper",""],["filePicker",""],["linear","true"],["editable","true"],["matStepLabel",""],[1,"tables"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","date"],["matColumnDef","category"],["matColumnDef","payment"],["matColumnDef","comment"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"padding-top","10px"],["mat-raised-button","","color","accent","matStepperNext","","type","button",3,"click"],["type","file","hidden","",3,"change"],[4,"ngIf"],["mat-raised-button","","matStepperPrevious",""],["mat-raised-button","","matStepperNext","","color","primary",3,"click"],[1,"view"],["mat-raised-button","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,s){if(r&1){let l=b();t(0,"mat-stepper",2,0)(2,"mat-step",3),u(3,Ye,1,0,"ng-template",4),t(4,"div",5)(5,"div",6)(6,"table",7),M(7,8),u(8,Ke,2,0,"th",9)(9,ze,2,0,"td",10),I(),M(10,11),u(11,qe,2,0,"th",9)(12,Ue,2,0,"td",10),I(),M(13,12),u(14,Ge,2,0,"th",9)(15,$e,2,0,"td",10),I(),M(16,13),u(17,We,2,0,"th",9)(18,Qe,2,0,"td",10),I(),M(19,14),u(20,Je,2,0,"th",9)(21,Xe,2,0,"td",10),I(),M(22,15),u(23,Ze,2,0,"th",9)(24,et,2,0,"td",10),I(),u(25,tt,1,0,"tr",16)(26,it,1,0,"tr",17),i()()(),t(27,"div",18)(28,"button",19),f("click",function(){h(l);let y=D(31);return g(y.click())}),o(29," Import File "),i(),t(30,"input",20,1),f("change",function(y){return h(l),g(s.importDataFromCSV(y))}),i()()(),t(32,"mat-step",3),u(33,nt,1,0,"ng-template",4),t(34,"div",18),u(35,ot,2,0,"p",21)(36,at,2,0,"p",21),i(),t(37,"div")(38,"button",22),o(39,"Back"),i(),t(40,"button",23),f("click",function(){return h(l),g(s.onSaveImport())}),o(41," Save "),i()()(),t(42,"mat-step"),u(43,rt,1,0,"ng-template",4),t(44,"div",24)(45,"button",25),f("click",function(){return h(l),g(s.onView())}),o(46," View Expenses "),i()()()()}r&2&&(d(6),c("dataSource",s.dataSource),d(19),c("matHeaderRowDef",s.displayedColumns),d(),c("matRowDefColumns",s.displayedColumns),d(9),c("ngIf",s.isCorrect),d(),c("ngIf",!s.isCorrect))},dependencies:[T,E,ce,ue,Ce,_e,fe,xe,he,ge,ye,ve,Se,we,be,Ee,Me],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%;overflow-x:hidden}.table-container[_ngcontent-%COMP%]{max-width:100%;overflow-x:scroll}.tables[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:contents}"]});let e=n;return e})();function pt(e,n){e&1&&(t(0,"mat-card-content",8)(1,"div",9)(2,"span",10),o(3,"Loading..."),i()(),t(4,"div",11)(5,"span",10),o(6,"Loading..."),i()(),t(7,"div",9)(8,"span",10),o(9,"Loading..."),i()()())}function lt(e,n){if(e&1&&(t(0,"mat-chip-row"),o(1),i()),e&2){let x=n.$implicit;d(),K(" ",x," ")}}function dt(e,n){if(e&1){let x=b();t(0,"mat-chip-row",18),f("removed",function(){let r=h(x).$implicit,s=k(2);return g(s.removeKeyword(r))}),o(1),t(2,"button",19)(3,"mat-icon"),o(4,"cancel"),i()()()}if(e&2){let x=n.$implicit;d(),K(" ",x," ")}}function ct(e,n){if(e&1){let x=b();t(0,"mat-card-content",12)(1,"mat-form-field",13)(2,"mat-label"),o(3,"Avaiable Expense Categories"),i(),t(4,"mat-chip-grid",14,0),u(6,lt,2,1,"mat-chip-row",15)(7,dt,5,1,"mat-chip-row",16),i(),t(8,"input",17),f("matChipInputTokenEnd",function(r){h(x);let s=k();return g(s.add(r))}),i()()()}if(e&2){let x=D(5),a=k();d(6),c("ngForOf",a.keywords),d(),c("ngForOf",a.newKeywords),d(),c("matChipInputFor",x)}}function ft(e,n){if(e&1){let x=b();t(0,"button",20),f("click",function(){h(x);let r=k();return g(r.onSave())}),t(1,"mat-icon"),o(2,"save"),i(),o(3," Save "),i()}if(e&2){let x=k();c("disabled",x.newKeywords.length===0)}}function ut(e,n){e&1&&(t(0,"button",21),v(1,"span",22),o(2," Saving... "),i())}var Le=(()=>{let n=class n{constructor(a){this.businesData=a,this.categoryAdded=new G,this.keywords=[],this.newKeywords=[],this.CategoryLoad=!0,this.isSaving=!1}ngOnInit(){this.CategoryLoad=!0,this.isSaving=!1,this.businesData.onGetAllCategory().subscribe(a=>{a&&(this.CategoryLoad=!1,this.keywords=a.data)})}removeKeyword(a){let r=this.newKeywords.indexOf(a);r>=0&&this.newKeywords.splice(r,1)}add(a){let r=(a.value||"").trim();r&&this.newKeywords.push(r),a.chipInput.clear()}onSave(){this.isSaving=!0,this.categoryAdded.emit(this.keywords),this.businesData.onCreateCategory(this.newKeywords).subscribe(a=>{a&&(this.keywords.push(...this.newKeywords),this.newKeywords=[],this.isSaving=!1)})}onReset(){this.newKeywords=[]}};n.\u0275fac=function(r){return new(r||n)(C(O))},n.\u0275cmp=S({type:n,selectors:[["app-add-category"]],outputs:{categoryAdded:"categoryAdded"},decls:19,vars:4,consts:[["chipGrid",""],[1,"example-card"],["style","padding-top: 15px;display: flex; justify-content: center;align-items: center;",4,"ngIf"],["style","padding-top: 15px",4,"ngIf"],["align","end"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["class","btn btn-success","type","button","disabled","",4,"ngIf"],[2,"padding-top","15px","display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-grow","text-danger"],[1,"visually-hidden"],["role","status",1,"spinner-grow","text-danger",2,"margin","0px 5px"],[2,"padding-top","15px"],["appearance","outline",1,"example-form-field"],["aria-label","Enter New Category"],[4,"ngFor","ngForOf"],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Categories...",2,"border","2px solid black",3,"matChipInputTokenEnd","matChipInputFor"],[3,"removed"],["matChipRemove","","aria-label","'remove ' + keyword"],["mat-raised-button","",3,"click","disabled"],["type","button","disabled","",1,"btn","btn-success"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(r,s){r&1&&(t(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title")(3,"div")(4,"p"),o(5,"Add Expense Category "),t(6,"mat-icon"),o(7,"note_add"),i()()()(),t(8,"mat-card-subtitle"),o(9,"Add/Remove Expense Categories"),i()(),u(10,pt,10,0,"mat-card-content",2)(11,ct,9,3,"mat-card-content",3),t(12,"mat-card-actions",4)(13,"button",5),f("click",function(){return s.onReset()}),t(14,"mat-icon"),o(15,"autorenew"),i(),o(16,"Reset "),i(),u(17,ft,4,1,"button",6)(18,ut,3,0,"button",7),i()()),r&2&&(d(10),c("ngIf",s.CategoryLoad),d(),c("ngIf",!s.CategoryLoad),d(6),c("ngIf",!s.isSaving),d(),c("ngIf",s.isSaving))},dependencies:[$,T,E,V,ae,oe,P,L,N,B,re,F,De,Te,Ie,ke],styles:[".example-form-field[_ngcontent-%COMP%]{width:100%}.example-button-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 12px}.myCard[_ngcontent-%COMP%]{margin-top:25px}.btns[_ngcontent-%COMP%]{position:fixed;bottom:10%;right:5%;z-index:100}"]});let e=n;return e})();var Be=(()=>{let n=class n{constructor(a,r){this.route=a,this.dialog=r}ngOnInit(){}handleCategory(a){this.keywords=a}openDialog(){this.dialog.open(H,{width:"600px"})}onView(){this.route.navigate(["dashboard"])}};n.\u0275fac=function(r){return new(r||n)(C(R),C(A))},n.\u0275cmp=S({type:n,selectors:[["app-dashboard"]],decls:41,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","offset-md-3","myCard"],[1,"example-card"],["align","end"],["mat-button","",3,"click"],[3,"categoryAdded"],[3,"tags"],[1,"col-12","col-md-6","offset-md-3","myCard",2,"margin-bottom","30px"],["href","https://drive.google.com/file/d/1-i_q2joBrYUqi2jYuiOmD6OeFHH9rwQL/view?usp=sharing"],[2,"font-size","20px","width","20px","height","20px"],["mat-mini-fab","","color","accent",1,"btns",3,"click"],[1,"footers"]],template:function(r,s){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),o(6,"User Information "),t(7,"mat-icon"),o(8,"verified_user"),i()()(),t(9,"mat-card-actions",4)(10,"button",5),f("click",function(){return s.openDialog()}),t(11,"mat-icon"),o(12,"launch"),i()()()()(),t(13,"div",2)(14,"app-add-category",6),f("categoryAdded",function(_){return s.handleCategory(_)}),i()()(),t(15,"div",1)(16,"div",2),v(17,"app-add-expense",7),i(),t(18,"div",8)(19,"mat-card")(20,"mat-card-header")(21,"mat-card-title")(22,"div")(23,"p"),o(24,"Import CSV Expenses "),i()()()(),t(25,"mat-card-content")(26,"div")(27,"p"),o(28,"Download "),t(29,"a",9),o(30,"Sample"),i(),o(31," File "),t(32,"mat-icon",10),o(33,"downloading"),i()()(),v(34,"app-import"),i()()()(),t(35,"div")(36,"button",11),f("click",function(){return s.onView()}),t(37,"mat-icon"),o(38,"equalizer"),i()()()(),t(39,"div",12),v(40,"app-footer"),i()),r&2&&(d(17),c("tags",s.keywords))},dependencies:[Re,E,J,V,P,L,N,B,F,Fe,Le,me],styles:['.container-fluid[_ngcontent-%COMP%]{background-image:url("./media/ruppe2-CCPFD6SS.png");background-size:cover;background-repeat:no-repeat;width:100%}.example-form-field[_ngcontent-%COMP%]{width:100%}.example-button-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 12px}.myCard[_ngcontent-%COMP%]{margin-top:25px}.btns[_ngcontent-%COMP%]{position:fixed;bottom:10%;right:5%;z-index:100}']});let e=n;return e})();function gt(e,n){e&1&&(t(0,"div"),v(1,"app-loader"),i())}function Ct(e,n){e&1&&(t(0,"div"),v(1,"app-dashboard"),i())}var je=(()=>{let n=class n{constructor(a,r,s){this.route=a,this.dialog=r,this.authService=s,this.isLoading=!0}ngOnInit(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},4e3);let a=sessionStorage.getItem("LEAD_ID");this.authService.authAfterReferesh(!0,a)}openDialog(){this.dialog.open(H,{width:"600px"})}onView(){this.route.navigate(["dashboard"])}onLogout(){this.dialog.open(j,{data:{type:"alert"}})}};n.\u0275fac=function(r){return new(r||n)(C(R),C(A),C(ee))},n.\u0275cmp=S({type:n,selectors:[["app-header"]],decls:35,vars:2,consts:[["drawer",""],["hasBackdrop","True","autosize","",1,"example-container",2,"height","100vh"],["mode","over",1,"example-sidenav",2,"height","100%"],[2,"border-bottom","2px solid red","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"],[2,"margin-top","20px"],["mat-raised-button","","color","primary",3,"click"],[2,"border-bottom","1px solid black"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"example-spacer"],["mat-raised-button","","color","accent",3,"click"],[4,"ngIf"]],template:function(r,s){if(r&1){let l=b();t(0,"mat-drawer-container",1)(1,"mat-drawer",2,0)(3,"h2",3),o(4," Spend Wise "),i(),t(5,"div")(6,"div",4)(7,"button",5),f("click",function(){return h(l),g(s.openDialog())}),t(8,"mat-icon"),o(9,"perm_identity"),i(),o(10,"Profile "),i()(),t(11,"div",4)(12,"button",5),f("click",function(){return h(l),g(s.onView())}),t(13,"mat-icon"),o(14,"equalizer"),i(),o(15,"View Expenses "),i()(),t(16,"div",4)(17,"button",5),f("click",function(){return h(l),g(s.onLogout())}),t(18,"mat-icon"),o(19,"logout"),i(),o(20,"Logout "),i()()()(),t(21,"div")(22,"mat-toolbar",6)(23,"button",7),f("click",function(){h(l);let y=D(2);return g(y.toggle())}),t(24,"mat-icon"),o(25,"list"),i()(),t(26,"span"),o(27,"Spend Wise"),i(),v(28,"span",8),t(29,"button",9),f("click",function(){return h(l),g(s.onLogout())}),t(30,"mat-icon"),o(31,"logout"),i(),o(32,"Logout "),i()()(),u(33,gt,2,0,"div",10)(34,Ct,2,0,"div",10),i()}r&2&&(d(33),c("ngIf",s.isLoading),d(),c("ngIf",!s.isLoading))},dependencies:[T,se,pe,le,de,E,X,V,Be],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding-left:50px;padding-right:100px;padding-top:50px}"]});let e=n;return e})();var xt=[{path:"",component:je,canActivate:[te],title:"Home | ExpenseTracker"}],Zt=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({imports:[W,Ve,ne,ie,Q.forChild(xt)]});let e=n;return e})();export{Zt as HeaderModule};
